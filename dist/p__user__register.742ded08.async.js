(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{a3w7:function(h,E,t){"use strict";t.r(E);var de=t("14J3"),K=t("BMrR"),_e=t("+L6B"),M=t("2/Rp"),ce=t("jCWc"),C=t("kPKH"),ue=t("Q9mQ"),w=t("diRs"),me=t("MXD1"),S=t("CFYs"),j=t("k1fw"),Ee=t("miYZ"),F=t("tsqr"),u=t("tJVT"),ge=t("5NDa"),d=t("5rEg"),pe=t("OaEy"),I=t("2fM7"),Oe=t("y8nQ"),g=t("Vl3Y"),l=t("q1tI"),e=t.n(l),r=t("9kvl"),N=t("55Ip"),x=t("sYde"),n=t.n(x),_=g.a.Item,A=I.a.Option,z=d.a.Group,V={ok:e.a.createElement("div",{className:n.a.success},e.a.createElement(r.a,{id:"userandregister.strength.strong"})),pass:e.a.createElement("div",{className:n.a.warning},e.a.createElement(r.a,{id:"userandregister.strength.medium"})),poor:e.a.createElement("div",{className:n.a.error},e.a.createElement(r.a,{id:"userandregister.strength.short"}))},J={ok:"success",pass:"normal",poor:"exception"},Y=function(m){var O=m.submitting,G=m.dispatch,v=m.userAndregister,Q=Object(l.useState)(0),b=Object(u.a)(Q,2),P=b[0],B=b[1],$=Object(l.useState)(!1),R=Object(u.a)($,2),f=R[0],T=R[1],X=Object(l.useState)("86"),W=Object(u.a)(X,2),y=W[0],H=W[1],Z=Object(l.useState)(!1),U=Object(u.a)(Z,2),k=U[0],q=U[1],ee=!1,D,te=g.a.useForm(),ae=Object(u.a)(te,1),o=ae[0];Object(l.useEffect)(function(){if(!!v){var i=o.getFieldValue("mail");v.status==="ok"&&(F.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),r.e.push({pathname:"/user/register-result",state:{account:i}}))}},[v]),Object(l.useEffect)(function(){return function(){clearInterval(D)}},[]);var re=function(){var a=59;B(a),D=window.setInterval(function(){a-=1,B(a),a===0&&clearInterval(D)},1e3)},L=function(){var a=o.getFieldValue("password");return a&&a.length>9?"ok":a&&a.length>5?"pass":"poor"},se=function(a){G({type:"userAndregister/submit",payload:Object(j.a)(Object(j.a)({},a),{},{prefix:y})})},ne=function(a,s){var c=Promise;return s&&s!==o.getFieldValue("password")?c.reject(Object(r.d)({id:"userandregister.password.twice"})):c.resolve()},ie=function(a,s){var c=Promise;return s?(f||T(!!s),q(!k),s.length<6?c.reject(""):(s&&ee&&o.validateFields(["confirm"]),c.resolve())):(T(!!s),c.reject(Object(r.d)({id:"userandregister.password.required"})))},oe=function(a){H(a)},le=function(){var a=o.getFieldValue("password"),s=L();return a&&a.length?e.a.createElement("div",{className:n.a["progress-".concat(s)]},e.a.createElement(S.a,{status:J[s],className:n.a.progress,strokeWidth:6,percent:a.length*10>100?100:a.length*10,showInfo:!1})):null};return e.a.createElement("div",{className:n.a.main},e.a.createElement("h3",null,e.a.createElement(r.a,{id:"userandregister.register.register"})),e.a.createElement(g.a,{form:o,name:"UserRegister",onFinish:se},e.a.createElement(_,{name:"mail",rules:[{required:!0,message:Object(r.d)({id:"userandregister.email.required"})},{type:"email",message:Object(r.d)({id:"userandregister.email.wrong-format"})}]},e.a.createElement(d.a,{size:"large",placeholder:Object(r.d)({id:"userandregister.email.placeholder"})})),e.a.createElement(w.a,{getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},content:f&&e.a.createElement("div",{style:{padding:"4px 0"}},V[L()],le(),e.a.createElement("div",{style:{marginTop:10}},e.a.createElement(r.a,{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:f},e.a.createElement(_,{name:"password",className:o.getFieldValue("password")&&o.getFieldValue("password").length>0&&n.a.password,rules:[{validator:ie}]},e.a.createElement(d.a,{size:"large",type:"password",placeholder:Object(r.d)({id:"userandregister.password.placeholder"})}))),e.a.createElement(_,{name:"confirm",rules:[{required:!0,message:Object(r.d)({id:"userandregister.confirm-password.required"})},{validator:ne}]},e.a.createElement(d.a,{size:"large",type:"password",placeholder:Object(r.d)({id:"userandregister.confirm-password.placeholder"})})),e.a.createElement(z,{compact:!0},e.a.createElement(I.a,{size:"large",value:y,onChange:oe,style:{width:"20%"}},e.a.createElement(A,{value:"86"},"+86"),e.a.createElement(A,{value:"87"},"+87")),e.a.createElement(_,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:Object(r.d)({id:"userandregister.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(r.d)({id:"userandregister.phone-number.wrong-format"})}]},e.a.createElement(d.a,{size:"large",placeholder:Object(r.d)({id:"userandregister.phone-number.placeholder"})}))),e.a.createElement(K.a,{gutter:8},e.a.createElement(C.a,{span:16},e.a.createElement(_,{name:"captcha",rules:[{required:!0,message:Object(r.d)({id:"userandregister.verification-code.required"})}]},e.a.createElement(d.a,{size:"large",placeholder:Object(r.d)({id:"userandregister.verification-code.placeholder"})}))),e.a.createElement(C.a,{span:8},e.a.createElement(M.a,{size:"large",disabled:!!P,className:n.a.getCaptcha,onClick:re},P?"".concat(P," s"):Object(r.d)({id:"userandregister.register.get-verification-code"})))),e.a.createElement(_,null,e.a.createElement(M.a,{size:"large",loading:O,className:n.a.submit,type:"primary",htmlType:"submit"},e.a.createElement(r.a,{id:"userandregister.register.register"})),e.a.createElement(N.Link,{className:n.a.login,to:"/user/login"},e.a.createElement(r.a,{id:"userandregister.register.sign-in"})))))};E.default=Object(r.c)(function(p){var m=p.userAndregister,O=p.loading;return{userAndregister:m,submitting:O.effects["userAndregister/submit"]}})(Y)},sYde:function(h,E,t){h.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);
